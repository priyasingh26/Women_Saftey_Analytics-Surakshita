<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Profile</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
    <link rel="stylesheet" href="../static/profile.css" />
  </head>
  <body>
    <nav>
        <ul>
            <li><a href="{{ url_for('dashboard') }}"><i class="fas fa-home"></i><span>Home</span></a></li>
            <li><a href="{{ url_for('about') }}"><i class="fas fa-info-circle"></i><span>About</span></a></li>
            <li><a href="{{ url_for('complaints') }}"><i class="fas fa-exclamation-triangle"></i><span>Complaints</span></a></li>
            <li><a href="{{ url_for('recent_incidents') }}"><i class="fas fa-bell"></i><span>Recent Incidents</span></a></li>
            <li><a href="{{ url_for('profile') }}"><i class="fas fa-user"></i><span>Profile</span></a></li>
            <li><a href="{{ url_for('safety_tips') }}"><i class="fas fa-shield-alt"></i><span>Safety Tips</span></a></li>
        </ul>
    </nav>

    <main>
      <section class="profile">
        <h1>User Profile</h1>

        <!-- Profile Image -->
        <form
          method="POST"
          action="{{ url_for('upload_profile_image') }}"
          enctype="multipart/form-data"
        >
          <div class="profile-image">
            <img
              src="{{ url_for('static', filename=user.profile_image_url or '/profile_images/default-profile.jpeg') }}"
              alt="Profile Image"
            />
            <input
              type="file"
              name="profile_image"
              id="profile-image-upload"
              accept="image/*"
            />
            <label for="profile-image-upload">Change Image</label>
          </div>
          <button type="submit">Upload</button>
        </form>

        <!-- User Information -->
        <div class="profile-info">
          <h2>Personal Information</h2>
          <p><strong>Username:</strong> {{ user.username }}</p>
          <p><strong>Email:</strong> {{ user.email }}</p>
          <p><strong>Full Name:</strong> {{ user.aadhar_name }}</p>
          <p><strong>Date of Birth:</strong> {{ user.aadhar_date_of_birth }}</p>
          <p><strong>Gender:</strong> {{ user.aadhar_gender }}</p>
          <p>
            <strong>Address:</strong> {{ user.addraadhar_address_district }}, {{
            user.aadhar_address_landmark }}, {{ user.aadhar_address_house }}, {{
            user.aadhar_address_location }}, {{ user.aadhar_address_pin_code }},
            {{user.aadhar_address_post_office }}, {{user.aadhar_address_state}},
            {{user.aadhar_address_street}},{{user.aadhar_address_sub_district}},{{user.aadhar_address_vtc}}
          </p>
          <p><strong>Phone Number:</strong> {{ user.phone_number }}</p>
        </div>

        <!-- Additional Features -->
        <div class="profile-actions">
          <button onclick="location.href='/edit-profile'">Edit Profile</button>
          <button onclick="location.href='/change-password'">
            Change Password
          </button>
          <button onclick="location.href='/notifications'">
            Notification Preferences
          </button>
          <button onclick="location.href='/privacy-settings'">
            Privacy Settings
          </button>
          <button onclick="location.href='/deactivate-account'">
            Deactivate Account
          </button>
        </div>
      </section>
    </main>
  </body>
</html>
